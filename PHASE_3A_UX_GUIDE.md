# Phase 3a: User Experience Guide

## Main Search Page - Enhanced with Sentiment & News

### Search Result Example: "What is Bitcoin?"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Crypto Protocol Auditor                    [Home] [Compare]
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ [Search input: Ask about crypto...]                  [ğŸ” Search]
â”‚                                                               â”‚
â”‚ ğŸ¤– Query Classification: ğŸ“š Knowledge Base + ğŸ’° Live Prices  â”‚
â”‚ Agent Reasoning: Detected crypto mentions (bitcoin)          â”‚
â”‚ KB: 354ms | Prices: 66ms | Total: 367ms                     â”‚
â”‚                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š KNOWLEDGE BASE RESULTS (1)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚ ğŸ¤– AI Agent Response    ğŸŸ¢ bullish (10%)                    â”‚
â”‚                                                               â”‚
â”‚ Bitcoin: A Peer-to-Peer Electronic Cash System              â”‚
â”‚ Satoshi Nakamoto                                             â”‚
â”‚ satoshin@gmx.com                                             â”‚
â”‚ www.bitcoin.org                                              â”‚
â”‚ Abstract. A purely peer-to-peer version of electronic cash... â”‚
â”‚                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’¬ Market Sentiment Summary                              â”‚ â”‚
â”‚ â”‚ The news headlines present a mixed sentiment towards     â”‚ â”‚
â”‚ â”‚ Bitcoin. While some articles highlight positive         â”‚ â”‚
â”‚ â”‚ developments like easier payments and acceptance by      â”‚ â”‚
â”‚ â”‚ businesses, others point to price plunges and           â”‚ â”‚
â”‚ â”‚ regulatory scrutiny. Overall neutral with slight bias.   â”‚ â”‚
â”‚ â”‚ Confidence: 70% | Based on 20 articles                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ ğŸ“° RECENT NEWS                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“° New Bitcoin Protocol Makes Payments Easier       â†’   â”‚ â”‚
â”‚ â”‚     Gizmodo.com â€¢ Oct 31                                 â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ ğŸ“° Bitcoin Hits All-Time High Amid ETF Adoption    â†’   â”‚ â”‚
â”‚ â”‚     CoinDesk â€¢ Oct 30                                    â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ ğŸ“° Institutional Investors Surge on BTC Holdings   â†’   â”‚ â”‚
â”‚ â”‚     Bloomberg â€¢ Oct 30                                   â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ ğŸ“° Regulatory Clarity Boosts Bitcoin Confidence   â†’    â”‚ â”‚
â”‚ â”‚     Reuters â€¢ Oct 29                                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚ Relevance: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%                         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Comparison Page - Complete with Prices

### Multiple Protocol Comparison: "bitcoin,ethereum,ripple"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Crypto Protocol Auditor                     [Home] [Compare] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚ Select Protocols to Compare:                                     â”‚
â”‚ [âŠ— Bitcoin] [âŠ— Ethereum] [âŠ— Ripple] [+ Add]        [ğŸ”„ Compare]â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      PROTOCOL COMPARISON                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚ BITCOIN ğŸŸ¢ bullish                                                â”‚
â”‚ â”œâ”€ Price: $109,717 USD                                           â”‚
â”‚ â”œâ”€ Market Cap: $2.19 Trillion                                    â”‚
â”‚ â”œâ”€ 24h Volume: $64.67 Billion                                    â”‚
â”‚ â”œâ”€ 24h Change: +1.09%                                            â”‚
â”‚ â”œâ”€ Category: L1                                                  â”‚
â”‚ â””â”€ Consensus: Proof-of-Work                                      â”‚
â”‚                                                                    â”‚
â”‚ ETHEREUM ğŸŸ¡ neutral                                               â”‚
â”‚ â”œâ”€ Price: $3,840.91 USD                                          â”‚
â”‚ â”œâ”€ Market Cap: $463.27 Billion                                   â”‚
â”‚ â”œâ”€ 24h Volume: $34.04 Billion                                    â”‚
â”‚ â”œâ”€ 24h Change: +0.38%                                            â”‚
â”‚ â”œâ”€ Category: L1                                                  â”‚
â”‚ â””â”€ Consensus: Proof-of-Stake                                     â”‚
â”‚                                                                    â”‚
â”‚ RIPPLE ğŸŸ¢ bullish                                                 â”‚
â”‚ â”œâ”€ Price: $2.51 USD                                              â”‚
â”‚ â”œâ”€ Market Cap: $150.40 Billion                                   â”‚
â”‚ â”œâ”€ 24h Volume: $4.96 Billion                                     â”‚
â”‚ â”œâ”€ 24h Change: +0.32%                                            â”‚
â”‚ â”œâ”€ Category: L1                                                  â”‚
â”‚ â””â”€ Consensus: Byzantine Consensus                                â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– AI COMPARISON SUMMARY                                          â”‚
â”‚                                                                    â”‚
â”‚ Bitcoin, Ethereum, and Ripple represent distinct approaches      â”‚
â”‚ within the cryptocurrency landscape. Bitcoin operates as a       â”‚
â”‚ decentralized peer-to-peer electronic cash system, secured by    â”‚
â”‚ a proof-of-work consensus mechanism. Ripple is designed for      â”‚
â”‚ payment settlement with focus on cross-border transfers.         â”‚
â”‚ Ethereum enables smart contracts and decentralized apps with     â”‚
â”‚ proof-of-stake consensus...                                      â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Sentiment Badge Colors

### Visual Indicators

```
BULLISH SENTIMENT (ğŸŸ¢ Green)
â”œâ”€ Background: Green with 30% opacity (bg-green-900/30)
â”œâ”€ Border: Green at 50% opacity (border-green-500/50)
â”œâ”€ Text: Bright green (text-green-300)
â”œâ”€ Icon: ğŸŸ¢ Green circle
â”œâ”€ Meaning: Positive market outlook
â””â”€ Example: "ğŸŸ¢ bullish (60%)"

NEUTRAL SENTIMENT (ğŸŸ¡ Yellow)  
â”œâ”€ Background: Yellow with 30% opacity (bg-yellow-900/30)
â”œâ”€ Border: Yellow at 50% opacity (border-yellow-500/50)
â”œâ”€ Text: Bright yellow (text-yellow-300)
â”œâ”€ Icon: ğŸŸ¡ Yellow circle
â”œâ”€ Meaning: Mixed or uncertain outlook
â””â”€ Example: "ğŸŸ¡ neutral (10%)"

BEARISH SENTIMENT (ğŸ”´ Red)
â”œâ”€ Background: Red with 30% opacity (bg-red-900/30)
â”œâ”€ Border: Red at 50% opacity (border-red-500/50)
â”œâ”€ Text: Bright red (text-red-300)
â”œâ”€ Icon: ğŸ”´ Red circle
â”œâ”€ Meaning: Negative market outlook
â””â”€ Example: "ğŸ”´ bearish (30%)"
```

---

## Data Flow Diagram

```
User Search
    â†“
[Search Input] "What is Bitcoin?"
    â†“
handleSubmit()
    â”œâ”€â†’ /api/agent/query
    â”‚   â”œâ”€â†’ MindsDB Agent
    â”‚   â”‚   â”œâ”€â†’ KB Search (354ms) â†’ Bitcoin whitepaper
    â”‚   â”‚   â””â”€â†’ Price Fetch (66ms) â†’ $109,717
    â”‚   â””â”€â†’ Returns: AgentResponse with KB + Prices
    â”‚
    â””â”€â†’ Extract Project Name
        â””â”€â†’ "bitcoin" detected
            â†“
        sentimentCache State Loop
            â”œâ”€â†’ /api/sentiment?project=bitcoin&days=7
            â”‚   â”œâ”€â†’ Query crypto_news database
            â”‚   â”œâ”€â†’ Analyze 20 articles
            â”‚   â”œâ”€â†’ Calculate sentiment score
            â”‚   â””â”€â†’ Return: {sentiment, score, news[], summary}
            â”‚
            â””â”€â†’ setState(sentimentCache)
                â†“
        Render Results
            â”œâ”€â†’ KB Content
            â”œâ”€â†’ SentimentBadge (ğŸŸ¢ bullish)
            â”œâ”€â†’ Sentiment Summary
            â”œâ”€â†’ NewsItem[] (up to 4 articles)
            â””â”€â†’ Relevance Indicator
```

---

## Component Hierarchy

```
<Home>
â”œâ”€ <Header>
â”‚  â”œâ”€ Title & Logo
â”‚  â”œâ”€ Navigation [Home | Compare]
â”‚  â””â”€ Subtitle
â”‚
â”œâ”€ <SearchForm>
â”‚  â”œâ”€ <TextInput>
â”‚  â””â”€ <SearchButton>
â”‚
â”œâ”€ <AgentInfoBanner>
â”‚  â”œâ”€ Classification badge
â”‚  â”œâ”€ Agent reasoning
â”‚  â””â”€ Execution times
â”‚
â”œâ”€ <KBResultsSection>
â”‚  â””â”€ {agentResponse.results.kb_results.map((result, idx) => (
â”‚      <ResultCard key={idx}>
â”‚      â”œâ”€ <AIResponseHeader>
â”‚      â”‚  â”œâ”€ Icon
â”‚      â”‚  â”œâ”€ Title
â”‚      â”‚  â””â”€ <SentimentBadge>  â† NEW
â”‚      â”‚     â”œâ”€ Icon (ğŸŸ¢/ğŸŸ¡/ğŸ”´)
â”‚      â”‚     â”œâ”€ Text (bullish/neutral/bearish)
â”‚      â”‚     â””â”€ Score (XX%)
â”‚      â”‚
â”‚      â”œâ”€ <ResponseContent>
â”‚      â”‚  â””â”€ KB text
â”‚      â”‚
â”‚      â”œâ”€ <SentimentSummary>  â† NEW
â”‚      â”‚  â”œâ”€ Summary text
â”‚      â”‚  â”œâ”€ Confidence
â”‚      â”‚  â””â”€ Article count
â”‚      â”‚
â”‚      â”œâ”€ <NewsSection>  â† NEW
â”‚      â”‚  â””â”€ {recentNews.slice(0,4).map((article) => (
â”‚      â”‚     <NewsItem>
â”‚      â”‚     â”œâ”€ Icon (ğŸ“°)
â”‚      â”‚     â”œâ”€ Title (link)
â”‚      â”‚     â”œâ”€ Source
â”‚      â”‚     â”œâ”€ Date
â”‚      â”‚     â””â”€ External link (â†’)
â”‚      â”‚  ))}
â”‚      â”‚
â”‚      â””â”€ <RelevanceBar>
â”‚         â””â”€ Progress indicator
â”‚  ))}
â”‚
â””â”€ <PriceResultsSection>
   â”œâ”€ Section title
   â””â”€ Price cards with full data
```

---

## Performance Timeline

```
0ms   â”œâ”€ User types search query
      â”‚
50ms  â”œâ”€ User clicks search button
      â”‚  handleSubmit() called
      â”‚
100ms â”œâ”€ Fetch initiated to /api/agent/query
      â”‚
454ms â”œâ”€ Response received (354ms KB + 66ms Prices + 34ms misc)
      â”‚  KB Results displayed
      â”‚  Project name extraction begins
      â”‚
500ms â”œâ”€ Sentiment fetch started for "bitcoin"
      â”‚
2500msâ”œâ”€ Sentiment response received (2s first call)
      â”‚  sentimentCache updated
      â”‚  Component re-renders
      â”‚
3000msâ”œâ”€ Full results displayed with badges + news âœ…
      â”‚  (subsequent searches: <100ms for sentiment)
```

---

## Mobile Responsive Behavior

```
DESKTOP (1024px+)              TABLET (768px)              MOBILE (320px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Title    [Nav Btns]  â”‚     â”‚ Title [Btns]   â”‚           â”‚ Title   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ [Btns]  â”‚
â”‚ [Search Full Width]  â”‚     â”‚ [Search FW]    â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚     â”‚                â”‚           â”‚[Search] â”‚
â”‚ ğŸ¤– Agent Banner      â”‚     â”‚ ğŸ¤– Banner      â”‚           â”‚         â”‚
â”‚                      â”‚     â”‚ (stacked)      â”‚           â”‚ğŸ¤– Bannerâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š KB Results        â”‚     â”‚ ğŸ“š KB Results  â”‚           â”‚ğŸ“š Results
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚           â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ Badge: ğŸŸ¢ 50%  â”‚   â”‚     â”‚ â”‚Badge: ğŸŸ¢ â”‚   â”‚           â”‚â”‚ğŸŸ¢ 50% â”‚
â”‚ â”‚ Content...     â”‚   â”‚     â”‚ â”‚Content   â”‚   â”‚           â”‚â”‚Content
â”‚ â”‚ Summary...     â”‚   â”‚     â”‚ â”‚Summary   â”‚   â”‚           â”‚â”‚Summary
â”‚ â”‚ News (4 items)â”‚   â”‚     â”‚ â”‚News (3i) â”‚   â”‚           â”‚â”‚News(2)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                      â”‚     â”‚                â”‚           â”‚
â”‚ ğŸ’° Prices            â”‚     â”‚ ğŸ’° Prices      â”‚           â”‚ğŸ’° Prices
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚           â”‚
â”‚ â”‚ BTC: $109k     â”‚   â”‚     â”‚ â”‚BTC: $109kâ”‚   â”‚           â”‚
â”‚ â”‚ ETH: $3,840    â”‚   â”‚     â”‚ â”‚ETH: $3.8 â”‚   â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Interaction Flow

```
1. USER SEARCHES
   Input: "What is Bitcoin?"
   Action: Click [Search]
   
2. PAGE RESPONDS
   Visual: Loading spinner âš™ï¸
   Message: "Agent Processing..."
   Time: ~5 seconds
   
3. RESULTS APPEAR
   A. KB Content loads first
   B. Sentiment badge appears (cached: <100ms)
   C. Sentiment summary displays
   D. Recent news populates
   E. Price data shows
   
4. USER INTERACTIONS
   a) Click news headline â†’ Opens external article (target="_blank")
   b) Hover over result â†’ Border changes to purple/glow
   c) Hover over news item â†’ Highlight and show arrow
   d) Click [Compare] button â†’ Navigate to comparison page
   
5. DATA UPDATES
   Auto-refresh: Every 5 minutes for prices
   Sentiment cache: 1 hour TTL
   News articles: Fetched fresh each search
```

---

## API Response Format

### /api/agent/query Response Structure
```json
{
  "queryId": "q_1761916157136_omd7t9ig6",
  "originalQuery": "What is Bitcoin?",
  "classifiedAs": "auto",
  "results": {
    "kb_results": [{
      "content": "Bitcoin: A Peer-to-Peer Electronic...",
      "relevance": 1,
      "metadata": {
        "_source": "bitcoin_whitepaper.pdf",
        "category": "L1"
      },
      "source": "Knowledge Base"
    }],
    "price_results": [{
      "project": "bitcoin",
      "price_usd": 109717,
      "market_cap_usd": 2186711542209.657,
      "volume_24h_usd": 64665007357.34017,
      "price_change_24h": 1.0877791920658768
    }]
  },
  "executedAt": {
    "kb_search_ms": 354,
    "price_fetch_ms": 66,
    "total_ms": 367
  }
}
```

### /api/sentiment Response Structure
```json
{
  "sentiment": "bullish",
  "score": 0.6,
  "confidence": 0.8,
  "summary": "Mixed positive sentiment...",
  "newsCount": 20,
  "recentNews": [
    {
      "title": "New Bitcoin Protocol Makes Payments Easier",
      "description": "...",
      "source_name": "Gizmodo.com",
      "url": "https://...",
      "publishedAt": "2025-10-31T10:30:00Z"
    }
  ]
}
```

---

**Status:** ğŸ‰ Phase 3a Complete - All features fully integrated and tested
**Deployment:** Production ready
**Documentation:** Complete
